"0",""
"0","# Al hacer la gráfrica vemos que no tenemos una variable edad. Modificamos el dataset para incluir una variable con esa información."
"0",""
"0","# ----- Indicación: "
"0","# para calcular la edad a partir de la fecha de nacimiento se puede usar el paquete ""lubridate"" para el manejo de fechas. Tiene una función de nombre ""year"" que dada una fecha le extrae el año asociado. "
"0","library(lubridate) # No requiere instalación, sólo cargarlo. "
"0","library(dplyr)   "
"0","# -----"
"0","calc_age <- function(birthDate, refDate = Sys.Date()) {"
"0",""
"0","    require(lubridate)"
"0","  "
"0","    period <- as.period(interval(birthDate, refDate),"
"0","                        unit = ""year"")"
"0",""
"0","    return(period$year)"
"0",""
"0","} "
"0",""
"0","nobel_edad = mutate(nobel, age = if_else(is.na(death_date),"
"0","                        as.period(interval(birth_date, Sys.Date()),unit = ""year"")$year, "
"0","                        as.period(interval(birth_date, death_date),unit = ""year"")$year))"
"0",""
"0","# Modifico el dataset para incluir una columna con la edad"
"0",""
"0",""
"0",""
"0","# X: el año, Y: la edad"
"0",""
"0","nobel_edad = aggregate(nobel_edad[""age""], list(""year"" = nobel_edad$year),  function(x) c(mean = round(mean(x, na.rm=TRUE), 2)))"
"0",""
"0","library(ggplot2)"
"0","ggplot(data = nobel_edad, aes(x = year, y = age)) +"
"0","  geom_line()+"
"0","  geom_point()"
"0",""
